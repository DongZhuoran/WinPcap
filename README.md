# WinPcap
WinPcap编程学习

## 1 vs2013/vs2015配置WinPcap

### 1.1 新建项目
文件->新建->项目，选择Visual C++中的Win32控制台应用程序 

### 1.2 预处理器定义
项目右键，选择属性选择C/C++->预处理器，在预处理器定义中添加WPCAP和HAVE_REMOTE

### 1.3 附加依赖项
在连接器下选择输入，在附加依赖项中添加ws2_32.lib、wpcap.lib、Packet.lib

### 1.4 添加包含与库目录
- 选择VC++目录，在包含目录中添加安装好的WinCap目录下的include目录
- 在库目录中选择安装好的WinCap目录下的Lib目录

### 1.5 可选
在Visual Studio中，一些函数如print和scanf默认不安全，使用时会提示使用带安全检查的函数，虽然不是错误，但是一些警告。可以在C/C++下的代码生成中将安全检查改为“禁用安全检查”。至此，配置完成，可以编写WinCap的程序了。

## 2 Pcap文分析
### 2.1 项目说明
1. PcapFileAnalysis加载了默认目录下的TCP_example.pcap并解析了pcap文件头，数据包头以及数据中的和数据信息。
2. 该项目不需要进行上述配置，上述配置仅在调用winpcap api时使用。
3. 由于时间原因，该为学校作业一部分，暂时在控制台中输出了分析后的结果。
